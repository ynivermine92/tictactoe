function bindModal(e,t,o){e=document.querySelector(e),t=document.querySelector(t),o=document.querySelector(o);const l=document.body;e.addEventListener("click",(e=>{e.preventDefault(),t.style.display="flex",l.classList.add("locked")})),bindModal(".modal__btn",".modal__wrapper",".modal__close")}document.addEventListener("DOMContentLoaded",(function(){if(document.body.classList.contains("main__body")){(()=>{const e=document.querySelector(".home__btn"),t=document.querySelector(".modal__wrapper");e.addEventListener("click",(()=>{t.style.display="flex"}))})()}}));const choosingFigure=()=>{const e=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[6,4,2]],t=document.querySelectorAll(".modal__item"),o=document.querySelectorAll(".game__item"),l=document.querySelector(".game__title");let r=localStorage.getItem("result"),n=localStorage.getItem("resultVin"),s=[];const c=localStorage.getItem("resultsHistory"),a=e=>{const t=c?JSON.parse(c):[];t.push(e),localStorage.setItem("resultsHistory",JSON.stringify(t))};if(t.forEach(((e,t)=>{e.addEventListener("click",(()=>{r=0===t?"clouse":"zero",localStorage.setItem("result",r)}))})),document.body.classList.contains("main__result")){const e=document.querySelector(".result__reset"),t=document.querySelector(".result__restart");e.addEventListener("click",(()=>{localStorage.clear(),window.location.href="index.html"})),t.addEventListener("click",(()=>{window.location.href="game.html"}));(()=>{let e=[],t=[];document.querySelector(".resut__title");const o=document.querySelector(".result__winner");let l=[...c].map(Number).filter((e=>!isNaN(e)));for(let o=0;o<l.length;o++)1===l[o]?(e.push(1),t.push(0)):0===l[o]&&(e.push(0),t.push(1));function r(e,t){const o=document.querySelector(`.result__items-${t}`);o.innerHTML=""+("clouse"===t?"Хрестики":"Hулики"),e.forEach((e=>{const t=document.createElement("li");t.classList.add("result__item"),t.textContent=1===e?"1":"0",o.appendChild(t)}))}function s(e){return e.reduce(((e,t)=>e+t),0)}r(e,"clouse"),r(t,"zero");const a=s(e),u=s(t);document.querySelector(".result__result-clouse").textContent=`Загальна кількість перемог Хрестики: ${a}`,document.querySelector(".result__result-zero").textContent=`Загальна кількість перемог Hулики: ${u}`,"clouse"===n?o.textContent="Перемога хрестиків":"zero"===n?o.textContent="Перемога нуликів":"draw"===n&&(o.textContent="Нічия")})()}if(document.body.classList.contains("main__game")){(()=>{l.textContent="zero"===r?"Хід гравця нулик":"Хід гравця хрестик"})(),o.forEach(((t,c)=>{t.addEventListener("click",(u=>{const i=t=>{for(let l=0;l<e.length;l++){if(e[l].every((e=>o[e].classList.contains(t))))return!0}return!1};if(8===document.querySelectorAll(".used").length&&(alert("Нічия"),n="draw",location.href="result.html"),localStorage.setItem("resultVin",n),t.classList.contains("used"))return void u.preventDefault();const d=document.createElement("img");"clouse"===r?(l.textContent="Хід гравця нулик",d.src="img/game/clouse.png",d.alt="",d.classList.add("game__item-imageClouse"),t.classList.add("clouse"),s.push(c),i("clouse")&&!i("zero")&&(alert("Перемога хрестиків"),n="clouse",a(1),location.href="result.html"),localStorage.setItem("resultVin",n)):(l.textContent="Хід гравця хрестик",d.src="img/game/zero.png",d.alt="",d.classList.add("game__item-imageZero"),t.classList.add("zero"),s.push(c),i("zero")&&!i("clouse")&&(alert("Перемога нуликів"),n="zero",a(0),location.href="result.html"),localStorage.setItem("resultVin",n)),t.innerHTML="",t.appendChild(d),t.classList.add("used"),r="clouse"===r?"zero":"clouse"}))}))}};choosingFigure();